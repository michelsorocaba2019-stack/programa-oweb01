function toggleMenu(){const e=document.querySelector(".menu-mobile"),t=document.querySelector(".menu-toggle");e.classList.toggle("active");const o=e.classList.contains("active");t.setAttribute("aria-expanded",o)}function showToast(e,t="success"){const o=document.querySelector(".toast");o&&o.remove();const n=document.createElement("div");n.className=`toast show ${t}`,n.textContent=e,document.body.appendChild(n),setTimeout(()=>{n.remove()},3500)}const projectData=[{id:1,title:"Projeto Resgate Feliz",image:"imagens/caes-e-gatos.jpg",tag:"Ação Rápida",tagClass:"badge-resgate",description:"Resgatamos cães e gatos abandonados nas ruas, oferecendo abrigo, alimentação, cuidados veterinários e muito carinho."},...{id:2,title:"Adote um Amigo",image:"imagens/caes.jpg",tag:"Adoção",tagClass:"badge-adocao",description:"Organizamos feiras de adoção e entrevistas com famílias para garantir um lar seguro e responsável para todos os nossos resgatados."},...{id:3,title:"Apadrinhe um Animal",image:"imagens/gatos.jpg",tag:"Apoio Mensal",tagClass:"badge-apoio",description:"Com o apadrinhamento, você ajuda a custear as despesas fixas de um animal específico, como ração especial e medicamentos de uso contínuo."},...{id:4,title:"Castração é Solução",image:"imagens/lar.jpg",tag:"Saúde Pública",tagClass:"badge-resgate",description:"Promovemos mutirões de castração de baixo custo e gratuitos para combater o abandono e a superpopulação de animais de rua."}],templates={home:`<h2>Nossa Missão</h2><p>Há mais de 10 anos, a ONG Amigos dos Animais trabalha incansavelmente no resgate, reabilitação e colocação de cães e gatos em lares responsáveis. Somos movidos pela paixão e pelo compromisso com o bem-estar animal.</p><div class="content-section"><h3>Onde o seu apoio faz a diferença</h3><div class="projetos-grid"><div class="card"><div class="card-content"><h2>Resgate</h2><p>Atuamos no resgate de animais em situação de risco, garantindo cuidados emergenciais.</p></div></div><div class="card"><div class="card-content"><h2>Adoção</h2><p>Promovemos a adoção responsável e a conscientização contra o abandono.</p></div></div><div class="card"><div class="card-content"><h2>Saúde</h2><p>Oferecemos tratamento veterinário completo, incluindo vacinação e castração.</p></div></div></div></div>`,projetos:e=>{let t=`<div class="content-section"><h2>Nossos Projetos e Iniciativas</h2><p>Conheça as ações que a ONG Amigos dos Animais realiza diariamente graças ao seu apoio.</p><div class="projetos-grid">`;return e.forEach(e=>{t+=templates.projetosTemplate(e)}),t+="</div></div>"},projetosTemplate:e=>`<div class="card"><img src="${e.image}" alt="${e.title}"><div class="card-content"><h2>${e.title}</h2><span class="badge ${e.tagClass}">${e.tag}</span><p>${e.description}</p><a href="#" class="botao">Saiba Mais</a></div></div>`,cadastro:`<form id="cadastroForm" class="formulario-padrao" onsubmit="return false;"><h2>Cadastre-se</h2><fieldset><legend>Dados Pessoais</legend><label for="nome">Nome Completo</label><input type="text" id="nome" name="nome" required><label for="email">E-mail</label><input type="email" id="email" name="email" required><label for="cpf">CPF</label><input type="text" id="cpf" name="cpf" maxlength="14" required><label for="telefone">Telefone</label><input type="text" id="telefone" name="telefone" maxlength="15" required></fieldset><fieldset><legend>Endereço</legend><label for="cep">CEP</label><input type="text" id="cep" name="cep" maxlength="9" required><label for="estado">Estado</label><select id="estado" name="estado" required><option value="">Selecione o Estado</option><option value="AC">AC</option><option value="AL">AL</option><option value="AP">AP</option><option value="AM">AM</option><option value="BA">BA</option><option value="CE">CE</option><option value="DF">DF</option><option value="ES">ES</option><option value="GO">GO</option><option value="MA">MA</option><option value="MT">MT</option><option value="MS">MS</option><option value="MG">MG</option><option value="PA">PA</option><option value="PB">PB</option><option value="PR">PR</option><option value="PE">PE</option><option value="PI">PI</option><option value="RJ">RJ</option><option value="RN">RN</option><option value="RS">RS</option><option value="RO">RO</option><option value="RR">RR</option><option value="SC">SC</option><option value="SP">SP</option><option value="SE">SE</option><option value="TO">TO</option></select><label for="cidade">Cidade</label><input type="text" id="cidade" name="cidade" required><label for="bairro">Bairro</label><input type="text" id="bairro" name="bairro" required><label for="rua">Rua</label><input type="text" id="rua" name="rua" required><label for="numero">Número</label><input type="text" id="numero" name="numero" required></fieldset><fieldset><legend>Tipo de Cadastro</legend><label><input type="radio" name="tipo" value="adocao" required> Interesse em Adoção</label><label><input type="radio" name="tipo" value="voluntariado"> Voluntariado</label></fieldset><button type="submit" class="botao">Enviar Cadastro</button></form>`};function loadPage(e){const t=document.querySelector("main");t.innerHTML="",t.classList.remove("home","projetos","cadastro"),t.classList.add(e);let o="";switch(e){case"home":o=templates.home;break;case"projetos":o=templates.projetos(projectData);break;case"cadastro":o=templates.cadastro}t.innerHTML=o,initializePageScripts(e),updateNavigation(e)}function updateNavigation(e){const t=document.querySelectorAll(".nav-desktop a, .menu-mobile a");t.forEach(t=>{const o=t.textContent.toLowerCase().includes(e);t.classList.toggle("active",o)})}function maskCPF(e){return e=e.replace(/\D/g,""),e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),e}function maskTelefone(e){return e=e.replace(/\D/g,""),e=e.replace(/^(\d{2})(\d)/g,"($1) $2"),e=e.replace(/(\d)(\d{4})$/,"$1-$2"),e}function maskCEP(e){return e=e.replace(/\D/g,""),e=e.replace(/^(\d{5})(\d)/,"$1-$2"),e}function isValidCPF(e){if(e=e.replace(/[^\d]+/g,""),0!==e.length&&11!==e.length)return!1;if(e=e.replace(/[^\d]+/g,""),0===e.length)return!1;if(/^(\d)\1+$/.test(e))return!1;var t,o,n=e.substring(0,9),s=e.substring(9,11);for(t=10,o=0,i=0;i<9;i++)o+=parseInt(n.charAt(i))*(t--);var a=11-(o%11);a=a>9?0:a;if(a!=parseInt(s.charAt(0)))return!1;for(t=11,o=0,i=0;i<10;i++)o+=parseInt(e.charAt(i))*(t--);var r=11-(o%11);return r=r>9?0:r,r==parseInt(s.charAt(1))}function validateForm(e){let t=!0;return e.querySelectorAll("input:not([type='radio']), select, textarea").forEach(e=>{e.value.trim()===""?e.style.border="2px solid var(--color-danger)":e.style.border="1px solid #ccc"}),e.querySelectorAll("input, select, textarea").forEach(e=>{e.value.trim()===""&&(e.style.border="2px solid var(--color-danger)",t=!1)}),e.querySelector("#cpf").value.trim().length>0&&!isValidCPF(e.querySelector("#cpf").value)&&(e.querySelector("#cpf").style.border="2px solid var(--color-danger)",showToast("⚠️ CPF inválido. Verifique os números.","warning"),t=!1),""===e.querySelector("#estado").value&&(e.querySelector("#estado").style.border="2px solid var(--color-danger)",t=!1),t||showToast("❌ Falha no envio. Corrija os campos em destaque.","danger"),t}function setupCadastroForm(){const e=document.getElementById("cadastroForm");e&&(e.querySelector("#cpf").addEventListener("input",function(){this.value=maskCPF(this.value)}),e.querySelector("#telefone").addEventListener("input",function(){this.value=maskTelefone(this.value)}),e.querySelector("#cep").addEventListener("input",function(){this.value=maskCEP(this.value)}),e.addEventListener("submit",function(t){t.preventDefault(),validateForm(e)&&(showToast("✅ Cadastro enviado com sucesso! Agradecemos o seu interesse.","success"),e.reset())}))}function initializePageScripts(e){"cadastro"===e&&setupCadastroForm()}(()=>{const e=window.location.hash.substring(1),t=e.includes("home")||e.includes("projetos")||e.includes("cadastro")?e.replace("#",""):document.querySelector(".nav-desktop .active")?.getAttribute("href")?.substring(1)||"home";loadPage(t)})(),function(){const e=document.body,t=document.getElementById("toggle-high-contrast");e.classList.toggle("high-contrast",localStorage.getItem("high-contrast-mode")==="enabled"),t&&t.setAttribute("aria-pressed",localStorage.getItem("high-contrast-mode")==="enabled")}(),function(){const e=document.querySelectorAll("input, select, textarea");e.forEach(e=>{e.addEventListener("input",function(){this.style.border="1px solid #ccc"})}),e.forEach(e=>{e.addEventListener("change",function(){this.style.border="1px solid #ccc"})})}();function toggleHighContrast(){const e=document.body,t=document.getElementById("toggle-high-contrast");e.classList.toggle("high-contrast");const o=e.classList.contains("high-contrast");t&&t.setAttribute("aria-pressed",o),localStorage.setItem("high-contrast-mode",o?"enabled":"disabled");const n=o?"Modo de Alto Contraste Ativado.":"Modo de Alto Contraste Desativado.";showToast(n,"info")}document.addEventListener("DOMContentLoaded",()=>{if("enabled"===localStorage.getItem("high-contrast-mode")){document.body.classList.add("high-contrast");const e=document.getElementById("toggle-high-contrast");e&&e.setAttribute("aria-pressed","true")}});